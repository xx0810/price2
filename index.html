<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UHPC Global Price System</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 0; display: flex; background-color: #f9f9f9; }
        .sidebar { width: 30%; background: white; padding: 20px; height: 100vh; box-shadow: 2px 0 5px rgba(0,0,0,0.1); }
        .content { width: 70%; padding: 20px; background: white; margin-left: 10px; }
        ul { padding: 0; list-style: none; }
        li { padding: 10px 16px; cursor: pointer; transition: background 0.3s; border-radius: 4px; }
        li:hover { background: #e0e0e0; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background: #f2f2f2; }
        button { padding: 10px 15px; background: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; margin-top: 20px; }
        button:hover { background: #0056b3; }
        #loading { display: none; color: #666; padding: 10px; }
        @media (max-width: 768px) {
            body { flex-direction: column; }
            .sidebar, .content { width: 100%; margin-left: 0; }
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div id="loading">Loading prices...</div>
        <h2>Select Continent</h2>
        <ul id="continents-list"></ul>
        <div id="countries-list"></div>
    </div>
    
    <div class="content" id="material-prices">
        <h1>UHPC Global Material Finder</h1>
        <p><strong>Ultra-High Performance Concrete (UHPC)</strong> is a revolutionary material with ultra-high strength and durability...</p>
        <!-- 保持完整介绍内容 -->
    </div>

    <script>
        let globalData = {};
        
        async function fetchData() {
            const loader = document.getElementById('loading');
            try {
                loader.style.display = 'block';
                const response = await fetch('https://your-domain.com/prices.json?t=' + Date.now());
                if (!response.ok) throw new Error('Network error');
                globalData = await response.json();
                populateContinents();
            } catch (e) {
                console.error(e);
                alert('Failed to load prices. Please refresh.');
            } finally {
                loader.style.display = 'none';
            }
        }

        function populateContinents() {
            const list = document.getElementById('continents-list');
            list.innerHTML = '';
            Object.keys(globalData).forEach(continent => {
                const li = document.createElement('li');
                li.textContent = continent;
                li.onclick = () => showCountries(continent);
                list.appendChild(li);
            });
        }

        function showCountries(continent) {
            const container = document.getElementById('countries-list');
            container.innerHTML = `<h2>Select Country</h2><ul id="country-list"></ul>`;
            const list = document.getElementById('country-list');
            Object.keys(globalData[continent]).forEach(country => {
                const li = document.createElement('li');
                li.textContent = country;
                li.onclick = () => showPrices(continent, country);
                list.appendChild(li);
            });
        }

        function showPrices(continent, country) {
            const container = document.getElementById('material-prices');
            container.innerHTML = `
                <button onclick="showIntro()">Back</button>
                <h1>${country}</h1>
                <table>
                    <thead><tr><th>Material</th><th>Price</th></tr></thead>
                    <tbody>
                        ${Object.entries(globalData[continent][country]).map(([mat, price]) => `
                            <tr><td>${mat}</td><td>${price}</td></tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        function showIntro() {
            document.getElementById('material-prices').innerHTML = `
                <h1>UHPC Global Material Finder</h1>
                <!-- 保持完整介绍内容 -->
            `;
        }

        document.addEventListener('DOMContentLoaded', () => {
            fetchData();
            setInterval(fetchData, 300000); // 5分钟更新
        });
    </script>
</body>
</html>